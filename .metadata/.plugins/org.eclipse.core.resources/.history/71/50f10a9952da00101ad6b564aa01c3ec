package comm.library;

import static org.junit.jupiter.api.Assertions.*;

import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Order;
import org.junit.jupiter.api.Test;

class LibraryTest {
    @BeforeEach
        void setup() {
        BookRentalSystem.clearLibrary();
    }
    @Test
    void testBookCreation_CheckIfBookIsNotNullAndTheBooksAreNotYetRentedByDefault_true() {
        Book book = new FictionBook("Test Book", "Test Author", 1);
        assertNotNull(book, "Object is Not Null");
        assertFalse(book.isRented(), "Return default value");
    }
    @Test
    void testRent_CheckIfTheBookWillBecomeRented_true() {
        Book book = new FictionBook("Test Book", "Test Author", 1);
        book.rent();
        assertTrue(book.isRented());
    }
    @Test
    void testAddBooks_AddOneFictionAndAddOneNoneFiction_true() {
        BookRentalSystem.addBooks(new FictionBook("FTest Book", "Test Author", 1));
        BookRentalSystem.addBooks(new NonFictionBook("NFTest Book", "Test Author", 1));
        assertEquals(2, BookRentalSystem.getLibrarySize());
    }
    @Test
    void testRent_CheckIfBookHasValidIndex_TrueAndFalse() {
        BookRentalSystem.addBooks(new FictionBook("FTest Book", "Test Author", 1));
        BookRentalSystem.addBooks(new NonFictionBook("NFTest Book", "Test Author", 1));        
        BookRentalSystem.rentBooks(0);
        assertTrue(BookRentalSystem.getLibrary().get(0).isRented());
        assertFalse(BookRentalSystem.getLibrary().get(1).isRented());
    }
}
